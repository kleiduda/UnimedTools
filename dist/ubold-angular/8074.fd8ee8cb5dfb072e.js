"use strict";(self.webpackChunkubold_angular=self.webpackChunkubold_angular||[]).push([[8074],{9699:(v,_,o)=>{o.d(_,{j:()=>O});var e=o(5e3);let p=(()=>{class n{constructor(){this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:"",startIndex:1,endIndex:0,totalRecords:0}}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}get startIndex(){return this._state.startIndex}get endIndex(){return this._state.endIndex}get totalRecords(){return this._state.totalRecords}set page(t){this._set({page:t})}set pageSize(t){this._set({pageSize:t})}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}set startIndex(t){this._set({startIndex:t})}set endIndex(t){this._set({endIndex:t})}set totalRecords(t){this._set({totalRecords:t})}_set(t){Object.assign(this._state,t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m={asc:"desc",desc:"","":"asc"};let d=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sort=new e.EventEmitter}rotate(){this.direction=m[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.\u0275\u0275defineDirective({type:n,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(t,a){1&t&&e.\u0275\u0275listener("click",function(){return a.rotate()}),2&t&&e.\u0275\u0275classProp("sorting_asc","asc"===a.direction)("sorting_desc","desc"===a.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),n})();var h=o(2313),c=o(9808),s=o(3075),g=o(7114);const f=["advancedTable"];function u(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"option",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function x(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",15)(1,"div",16)(2,"label",17),e.\u0275\u0275text(3,"Show "),e.\u0275\u0275elementStart(4,"select",18),e.\u0275\u0275listener("ngModelChange",function(r){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).service.pageSize=r})("ngModelChange",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).paginate()}),e.\u0275\u0275template(5,u,2,2,"option",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(6," entries"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.service.pageSize),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.pageSizeOptions)}}function b(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",7,8)(2,"div",9),e.\u0275\u0275template(3,x,7,2,"div",10),e.\u0275\u0275elementStart(4,"div",11)(5,"div",12)(6,"label",13),e.\u0275\u0275text(7,"Search: "),e.\u0275\u0275elementStart(8,"input",14),e.\u0275\u0275listener("ngModelChange",function(r){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().service.searchTerm=r})("ngModelChange",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().searchData()}),e.\u0275\u0275elementEnd()()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.pageSizeOptions.length),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("col-sm-6",t.pageSizeOptions.length),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.service.searchTerm)}}function C(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"th",23)(1,"div",24)(2,"input",25),e.\u0275\u0275listener("change",function(r){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).selectAllRow(r)}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.selectAll)("indeterminate",t.checkIntermediate())}}function S(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"th",28),e.\u0275\u0275listener("sort",function(r){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onSort(r)}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275styleProp("width",t.width,"px"),e.\u0275\u0275property("sortable",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.label,"")}}function T(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"th",29),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275styleProp("width",t.width,"px"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.label,"")}}function y(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,S,2,4,"th",26),e.\u0275\u0275template(2,T,2,3,"th",27),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!=t.sort),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1===t.sort)}}function w(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275template(1,C,3,2,"th",21),e.\u0275\u0275template(2,y,3,2,"ng-container",22),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasRowSelection),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.columns)}}function I(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"th",23)(1,"div",24)(2,"input",25),e.\u0275\u0275listener("change",function(r){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).selectAllRow(r)}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.selectAll)("indeterminate",t.checkIntermediate())}}function A(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"th",29),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit;e.\u0275\u0275styleProp("width",t.width,"px"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.label,"")}}function E(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275template(1,I,3,2,"th",21),e.\u0275\u0275template(2,A,2,3,"th",30),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasRowSelection),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.columns)}}function z(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td")(1,"div",24)(2,"input",31),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().index,l=e.\u0275\u0275nextContext();return l.selectRow(r+(l.service.page-1)*l.service.pageSize)}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext().index,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",a.isSelected[t+(a.service.page-1)*a.service.pageSize])}}function D(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"td"),e.\u0275\u0275element(1,"div",32),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit,a=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("innerHtml",r.callFormatter(t,a),e.\u0275\u0275sanitizeHtml)}}function R(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275template(1,z,3,1,"td",4),e.\u0275\u0275template(2,D,2,1,"td",22),e.\u0275\u0275elementEnd()),2&n){const t=i.index,a=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("selected",a.isSelected[t+(a.service.page-1)*a.service.pageSize]),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.hasRowSelection),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",a.columns)}}function M(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",33)(1,"div"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ngb-pagination",34),e.\u0275\u0275listener("pageChange",function(r){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().service.page=r})("pageChange",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().paginate()}),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate3(" Showing ",t.service.startIndex," to ",t.service.endIndex," of ",t.service.totalRecords," entries "),e.\u0275\u0275advance(1),e.\u0275\u0275property("collectionSize",t.service.totalRecords)("page",t.service.page)("maxSize",3)("rotate",!0)("pageSize",t.service.pageSize)}}let O=(()=>{class n{constructor(t,a,r){this.service=t,this.sanitizer=a,this.componentFactoryResolver=r,this.pagination=!1,this.isSearchable=!1,this.isSortable=!1,this.pageSizeOptions=[],this.tableData=[],this.tableClasses="",this.theadClasses="",this.hasRowSelection=!1,this.columns=[],this.collectionSize=this.tableData.length,this.selectAll=!1,this.isSelected=[],this.search=new e.EventEmitter,this.sort=new e.EventEmitter,this.handleTableLoad=new e.EventEmitter}ngAfterViewChecked(){this.handleTableLoad.emit()}ngOnInit(){for(let t=0;t<this.tableData.length;t++)this.isSelected[t]=!1}ngOnChanges(t){this.paginate()}paginate(){this.service.totalRecords=this.tableData.length,this.service.startIndex=0===this.service.totalRecords?0:(this.service.page-1)*this.service.pageSize+1,this.service.endIndex=Number((this.service.page-1)*this.service.pageSize+this.service.pageSize),this.service.endIndex>this.service.totalRecords&&(this.service.endIndex=this.service.totalRecords)}searchData(){this.search.emit(this.service.searchTerm)}onSort({column:t,direction:a}){this.headers.forEach(r=>{r.sortable!==t&&(r.direction="")}),this.service.sortColumn=t,this.service.sortDirection=a,this.sort.emit({column:t,direction:a})}callFormatter(t,a){return t.formatter(a)}checkIntermediate(){let t=this.isSelected.filter(a=>!0===a).length;return!this.selectAll&&t>0&&t<this.tableData.length}selectAllRow(t){if(this.selectAll=!this.selectAll,this.selectAll)for(let a=0;a<this.tableData.length;a++)this.isSelected[a]=!0;else for(let a=0;a<this.tableData.length;a++)this.isSelected[a]=!1}selectRow(t){this.isSelected[t]=!this.isSelected[t],this.selectAll=this.isSelected.filter(a=>!0===a).length===this.tableData.length}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(p),e.\u0275\u0275directiveInject(h.DomSanitizer),e.\u0275\u0275directiveInject(e.ComponentFactoryResolver))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-advanced-table"]],viewQuery:function(t,a){if(1&t&&(e.\u0275\u0275viewQuery(d,5),e.\u0275\u0275viewQuery(f,5)),2&t){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(a.headers=r),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(a.advancedTable=r)}},inputs:{pagination:"pagination",isSearchable:"isSearchable",isSortable:"isSortable",pageSizeOptions:"pageSizeOptions",tableData:"tableData",tableClasses:"tableClasses",theadClasses:"theadClasses",hasRowSelection:"hasRowSelection",columns:"columns"},outputs:{search:"search",sort:"sort",handleTableLoad:"handleTableLoad"},features:[e.\u0275\u0275ProvidersFeature([p]),e.\u0275\u0275NgOnChangesFeature],decls:11,vars:13,consts:[["class","my-2",4,"ngIf"],[1,"table-responsive"],["id","advancd-table",1,"table","advanced-table","table-nowrap","mb-0"],["advancedTable",""],[4,"ngIf"],[3,"selected",4,"ngFor","ngForOf"],["class","d-flex flex-wrap justify-content-center align-items-center justify-content-md-between mt-2",4,"ngIf"],[1,"my-2"],["displayForm","ngForm"],[1,"row","mb-2"],["class","col-12 col-sm-6",4,"ngIf"],[1,"col-12"],[1,"d-flex","align-items-center","justify-content-center","justify-content-sm-end"],[1,"d-inline"],["type","text","name","searchTerm","aria-controls","advanced-table",1,"form-control","form-control-sm","d-inline","w-auto","ms-1",3,"ngModel","ngModelChange"],[1,"col-12","col-sm-6"],[1,"text-center","text-sm-start"],[1,"form-label","me-1"],["name","pageSize","id","event-category","required","",1,"form-select","form-select-sm","w-auto","ms-1","me-1","d-inline",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","row_select","style","width: 20px;",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row_select",2,"width","20px"],[1,"form-check"],["type","checkbox","value","","id","flexCheckIndeterminate",1,"form-check-input",3,"checked","indeterminate","change"],["class","text-capitalize sortable pe-3 pe-lg-auto",3,"width","sortable","sort",4,"ngIf"],["class","text-capitalize",3,"width",4,"ngIf"],[1,"text-capitalize","sortable","pe-3","pe-lg-auto",3,"sortable","sort"],[1,"text-capitalize"],["class","text-capitalize",3,"width",4,"ngFor","ngForOf"],["type","checkbox","value","","id","flexCheckIndeterminate",1,"form-check-input",3,"checked","change"],[3,"innerHtml"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center","justify-content-md-between","mt-2"],[1,"pagination-rounded","custom-pagination",3,"collectionSize","page","maxSize","rotate","pageSize","pageChange"]],template:function(t,a){1&t&&(e.\u0275\u0275template(0,b,9,4,"form",0),e.\u0275\u0275elementStart(1,"div",1)(2,"table",2,3)(4,"thead"),e.\u0275\u0275template(5,w,3,2,"tr",4),e.\u0275\u0275template(6,E,3,2,"tr",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"tbody"),e.\u0275\u0275template(8,R,3,4,"tr",5),e.\u0275\u0275pipe(9,"slice"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(10,M,4,8,"div",6),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("ngIf",a.isSearchable),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(a.tableClasses),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(a.theadClasses),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isSortable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.isSortable),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind3(9,9,a.tableData,(a.service.page-1)*a.service.pageSize,a.service.page*a.service.pageSize)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.pagination))},directives:[c.NgIf,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,c.NgForOf,s.YN,s.Kr,s.Fj,d,g.N9],pipes:[c.SlicePipe],styles:[""]}),n})()},1413:(v,_,o)=>{o.d(_,{$:()=>h});var e=o(9808),p=o(3075),m=o(7114),d=o(5e3);let h=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=d.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=d.\u0275\u0275defineInjector({imports:[[e.CommonModule,m.IJ,p.u5]]}),c})()}}]);