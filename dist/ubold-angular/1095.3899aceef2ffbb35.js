"use strict";(self.webpackChunkubold_angular=self.webpackChunkubold_angular||[]).push([[1095],{1095:(T,x,m)=>{m.d(x,{_f:()=>F,NP:()=>N,bB:()=>S});var t=m(5e3),f=m(9808),_=m(655),b=m(2313);function z(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",1),t.\u0275\u0275listener("click",function(r){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext()._remove(r)}),t.\u0275\u0275elementEnd()}}const C=[[["ngx-dropzone-label"]]],D=["ngx-dropzone-label"],y=["fileInput"];function P(o,s){1&o&&t.\u0275\u0275projection(0,2,["*ngIf","!_hasPreviews"])}const I=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],w=["ngx-dropzone-preview","*","ngx-dropzone-label"];let N=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["ngx-dropzone-label"]]}),o})();function g(o){return null!=o&&"false"!=`${o}`}let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(e,n){1&e&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(0,"svg"),t.\u0275\u0275element(1,"line",0)(2,"line",1),t.\u0275\u0275elementEnd())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),o})();var u=(()=>{return(o=u||(u={}))[o.BACKSPACE=8]="BACKSPACE",o[o.DELETE=46]="DELETE",u;var o})();let k=(()=>{class o{constructor(e){this.sanitizer=e,this._removable=!1,this.removed=new t.EventEmitter,this.tabIndex=0}set file(e){this._file=e}get file(){return this._file}get removable(){return this._removable}set removable(e){this._removable=g(e)}keyEvent(e){switch(e.keyCode){case u.BACKSPACE:case u.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(e){e.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){return(0,_.mG)(this,void 0,void 0,function*(){return new Promise((e,n)=>{const r=new FileReader;if(r.onload=i=>{e(i.target.result)},r.onerror=i=>{console.error(`FileReader failed on file ${this.file.name}.`),n(i)},!this.file)return n("No file to read. Please provide a file using the [file] Input property.");r.readAsDataURL(this.file)})})}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(b.DomSanitizer))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("keyup",function(i){return n.keyEvent(i)}),2&e&&(t.\u0275\u0275hostProperty("tabindex",n.tabIndex),t.\u0275\u0275styleMap(n.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:D,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,n){1&e&&(t.\u0275\u0275projectionDef(C),t.\u0275\u0275projection(0),t.\u0275\u0275template(1,z,1,0,"ngx-dropzone-remove-badge",0)),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.removable))},directives:[O,f.NgIf],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),o})(),h=(()=>{class o{parseFileList(e,n,r,i){const d=[],l=[];for(let p=0;p<e.length;p++){const c=e.item(p);this.isAccepted(c,n)?r&&c.size>r?this.rejectFile(l,c,"size"):!i&&d.length>=1?this.rejectFile(l,c,"no_multiple"):d.push(c):this.rejectFile(l,c,"type")}return{addedFiles:d,rejectedFiles:l}}isAccepted(e,n){if("*"===n)return!0;const r=n.split(",").map(a=>a.toLowerCase().trim()),i=e.type.toLowerCase(),d=e.name.toLowerCase();return!!r.find(a=>a.endsWith("/*")?i.split("/")[0]===a.split("/")[0]:a.startsWith(".")?d.endsWith(a):a==i)}rejectFile(e,n,r){const i=n;i.reason=r,e.push(i)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})(),F=(()=>{class o{constructor(e){this.service=e,this.change=new t.EventEmitter,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(e){this._disabled=g(e),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(e){this._multiple=g(e)}get maxFileSize(){return this._maxFileSize}set maxFileSize(e){this._maxFileSize=function M(o){return isNaN(parseFloat(o))||isNaN(Number(o))?null:Number(o)}(e)}get expandable(){return this._expandable}set expandable(e){this._expandable=g(e)}get disableClick(){return this._disableClick}set disableClick(e){this._disableClick=g(e)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(e){this._processDirectoryDrop=g(e)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(e){if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const n=e.dataTransfer.items;if(n.length>0){const r=[],i=[];for(let l=0;l<n.length;l++){const a=n[l].webkitGetAsEntry();a.isFile?r.push(e.dataTransfer.files[l]):a.isDirectory&&i.push(a)}const d=new DataTransfer;if(r.forEach(l=>{d.items.add(l)}),!i.length&&d.items.length&&this.handleFileDrop(d.files),i.length){const l=[];for(const a of i)l.push(this.extractFilesFromDirectory(a));Promise.all(l).then(a=>{a.reduce((p,c)=>[...p,...c]).forEach(p=>{d.items.add(p)}),this.handleFileDrop(d.files)})}}}else this.handleFileDrop(e.dataTransfer.files)}extractFilesFromDirectory(e){function n(r){return(0,_.mG)(this,void 0,void 0,function*(){try{return yield new Promise((i,d)=>r.file(i,d))}catch(i){console.log("Error converting a fileEntry to a File: ",i)}})}return new Promise((r,i)=>{const d=[],l=e.createReader(),a=()=>{l.readEntries(p=>(0,_.mG)(this,void 0,void 0,function*(){if(p.length){const c=p.filter(v=>v.isFile);for(const v of c){const j=yield n(v);d.push(j)}a()}else r(d)}))};a()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}handleFileDrop(e){const n=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:n.addedFiles,rejectedFiles:n.rejectedFiles,source:this})}preventDefault(e){e.preventDefault(),e.stopPropagation()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(h,2))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(e,n,r){if(1&e&&t.\u0275\u0275contentQuery(r,k,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n._previewChildren=i)}},viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(y,7),2&e){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(n._fileInput=r.first)}},hostVars:8,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("click",function(){return n._onClick()})("dragover",function(i){return n._onDragOver(i)})("dragleave",function(){return n._onDragLeave()})("drop",function(i){return n._onDrop(i)}),2&e&&t.\u0275\u0275classProp("ngx-dz-disabled",n.disabled)("expandable",n.expandable)("unclickable",n.disableClick)("ngx-dz-hovered",n._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[t.\u0275\u0275ProvidersFeature([h])],ngContentSelectors:w,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(e,n){1&e&&(t.\u0275\u0275projectionDef(I),t.\u0275\u0275elementStart(0,"input",0,1),t.\u0275\u0275listener("change",function(i){return n._onFilesSelected(i)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(2,P,1,0,"ng-content",2),t.\u0275\u0275projection(3),t.\u0275\u0275projection(4,1)),2&e&&(t.\u0275\u0275property("id",n.id)("multiple",n.multiple)("accept",n.accept)("disabled",n.disabled),t.\u0275\u0275attribute("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedBy),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n._hasPreviews))},directives:[f.NgIf],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),o})(),S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=t.\u0275\u0275defineInjector({imports:[[f.CommonModule]]}),o})()}}]);