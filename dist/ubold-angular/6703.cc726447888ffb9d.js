"use strict";(self.webpackChunkubold_angular=self.webpackChunkubold_angular||[]).push([[6703],{6703:(_,p,l)=>{l.r(p),l.d(p,{CustomersModule:()=>L});var n=l(9808),r=l(3075),v=l(7114),c=l(1413),b=l(9095),f=l(4202),i=l(5877),e=l(5e3),m=l(2313),C=l(9475),y=l(9699);const E=["advancedTable"],x=["content"];function T(a,d){1&a&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275text(1," Please provide valid name "),e.\u0275\u0275elementEnd())}function I(a,d){1&a&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275text(1," Please provide valid email "),e.\u0275\u0275elementEnd())}function S(a,d){1&a&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275text(1," Please provide valid phone "),e.\u0275\u0275elementEnd())}function M(a,d){1&a&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275text(1," Please provide valid location "),e.\u0275\u0275elementEnd())}const g=function(a){return{"is-invalid":a}};function F(a,d){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",18)(1,"h4",19),e.\u0275\u0275text(2,"Add New Customers"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",20),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.dismiss("")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",21)(5,"form",22,23)(7,"div",24)(8,"label",25),e.\u0275\u0275text(9,"Full Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",26),e.\u0275\u0275template(11,T,2,0,"div",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",24)(13,"label",28),e.\u0275\u0275text(14,"Email address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",29),e.\u0275\u0275template(16,I,2,0,"div",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",24)(18,"label",30),e.\u0275\u0275text(19,"Phone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"input",31),e.\u0275\u0275template(21,S,2,0,"div",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",24)(23,"label",32),e.\u0275\u0275text(24,"Location"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"input",33),e.\u0275\u0275template(26,M,2,0,"div",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",34)(28,"button",35),e.\u0275\u0275text(29,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"button",7),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.close("")}),e.\u0275\u0275text(31,"Continue"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275reference(6),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",o.newCustomer),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,g,t.submitted&&o.form1.name.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&o.form1.name.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,g,t.submitted&&o.form1.email.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&o.form1.email.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,g,t.submitted&&o.form1.phone.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&o.form1.phone.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,g,t.submitted&&o.form1.location.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&o.form1.location.invalid)}}const P=[{path:"",component:(()=>{class a{constructor(t,o,s){this.sanitizer=t,this.activeModal=o,this.fb=s,this.pageTitle=[],this.customers=[],this.columns=[]}ngOnInit(){this.pageTitle=[{label:"CRM",path:"/"},{label:"Customers",path:"/",active:!0}],this._fetchData(),this.initAdvancedTableData(),this.newCustomer=this.fb.group({name:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],phone:["",r.kI.required],location:["",r.kI.required]})}get form1(){return this.newCustomer.controls}openModal(){this.activeModal.open(this.content,{centered:!0})}_fetchData(){this.customers=i.LU}initAdvancedTableData(){this.columns=[{name:"name",label:"Customer",formatter:this.customerNameFormatter.bind(this)},{name:"phone",label:"Phone",formatter:t=>t.phone},{name:"email",label:"Email",formatter:t=>t.email},{name:"location",label:"Location",formatter:t=>t.location},{name:"created_date",label:"Created On",formatter:t=>t.created_date},{name:"status",label:"Status",formatter:this.customerStatusFormatter.bind(this)},{name:"Action",label:"Action",width:82,formatter:this.customerActionFormatter.bind(this),sort:!1}]}customerNameFormatter(t){return this.sanitizer.bypassSecurityTrustHtml(`\n      <div class="table-user">\n      <img src="${t.avatar}" alt="table-user" class="me-2 rounded-circle">\n       <a href="javascript:void(0);" class="customer text-body fw-semibold" id="${t.id}">${t.name}</a>\n       </div>\n      `)}customerStatusFormatter(t){return this.sanitizer.bypassSecurityTrustHtml("Active"==t.status?'<span class="badge bg-soft-success text-success">Active</span>':'<span class="badge bg-soft-danger text-danger">Blocked</span>')}customerActionFormatter(){return this.sanitizer.bypassSecurityTrustHtml(' <a href="javascript:void(0);" class="action-icon"> <i class="mdi mdi-square-edit-outline"></i></a>\n        <a href="javascript:void(0);" class="action-icon"> <i class="mdi mdi-delete"></i></a>')}matches(t,o){var s,u,h;return(null===(s=t.name)||void 0===s?void 0:s.toLowerCase().includes(o))||(null===(u=t.phone)||void 0===u?void 0:u.toLowerCase().includes(o))||t.created_date.toLowerCase().includes(o)||t.company.toLowerCase().includes(o)||(null===(h=t.email)||void 0===h?void 0:h.toLocaleLowerCase().includes(o))}searchData(t){if(""===t)this._fetchData();else{let o=i.LU;o=o.filter(s=>this.matches(s,t)),this.customers=o}}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(m.DomSanitizer),e.\u0275\u0275directiveInject(v.FF),e.\u0275\u0275directiveInject(r.qu))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-crm-customers"]],viewQuery:function(t,o){if(1&t&&(e.\u0275\u0275viewQuery(E,5),e.\u0275\u0275viewQuery(x,7)),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(o.advancedTable=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(o.content=s.first)}},decls:22,vars:7,consts:[["title","Customers",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],["type","button",1,"btn","btn-danger","waves-effect","waves-light",3,"click"],[1,"mdi","mdi-plus-circle","me-1"],[1,"col-sm-8"],[1,"text-sm-end","mt-2","mt-sm-0"],["type","button",1,"btn","btn-success","mb-2","me-1"],[1,"mdi","mdi-cog"],["type","button",1,"btn","btn-light","mb-2","me-1"],["type","button",1,"btn","btn-light","mb-2"],["tableClasses","table-centered table-nowrap",3,"tableData","columns","pagination","isSearchable","hasRowSelection","isSortable","search"],["advancedTable",""],["content",""],[1,"modal-header","bg-light"],["id","myCenterModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[3,"formGroup"],["addCustomer","ngForm"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","placeholder","Enter full name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","placeholder","Enter email","required","","formControlName","email",1,"form-control",3,"ngClass"],["for","position",1,"form-label"],["type","text","id","position","placeholder","Enter phone number","required","","formControlName","phone",1,"form-control",3,"ngClass"],["for","category",1,"form-label"],["type","text","id","category","placeholder","Enter Location","required","","formControlName","location",1,"form-control",3,"ngClass"],[1,"text-end"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","me-1"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.\u0275\u0275element(0,"app-page-title",0),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),e.\u0275\u0275listener("click",function(){return o.openModal()}),e.\u0275\u0275element(8,"i",8),e.\u0275\u0275text(9," Add Customers"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",9)(11,"div",10)(12,"button",11),e.\u0275\u0275element(13,"i",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",13),e.\u0275\u0275text(15,"Import"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"button",14),e.\u0275\u0275text(17,"Export"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"app-advanced-table",15,16),e.\u0275\u0275listener("search",function(u){return o.searchData(u)}),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(20,F,32,17,"ng-template",null,17,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275property("breadcrumbItems",o.pageTitle),e.\u0275\u0275advance(18),e.\u0275\u0275property("tableData",o.customers)("columns",o.columns)("pagination",!0)("isSearchable",!0)("hasRowSelection",!0)("isSortable",!1))},directives:[C.T,y.j,r._Y,r.JL,r.sg,r.Fj,r.Q7,r.JJ,r.u,n.NgClass,n.NgIf],styles:[""]}),a})()}];let D=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[f.Bz.forChild(P)],f.Bz]}),a})(),L=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[n.CommonModule,r.u5,r.UX,v.bz,c.$,b.p,D]]}),a})()},9475:(_,p,l)=>{l.d(p,{T:()=>f});var n=l(5e3),r=l(9808);function v(i,e){if(1&i&&(n.\u0275\u0275elementStart(0,"li",5)(1,"a",11),n.\u0275\u0275text(2),n.\u0275\u0275elementEnd()()),2&i){const m=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(m.label)}}function c(i,e){if(1&i&&(n.\u0275\u0275elementStart(0,"li",12)(1,"a",13),n.\u0275\u0275text(2),n.\u0275\u0275elementEnd()()),2&i){const m=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(m.label)}}function b(i,e){if(1&i&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,v,3,1,"li",9),n.\u0275\u0275template(2,c,3,1,"li",10),n.\u0275\u0275elementContainerEnd()),2&i){const m=e.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!m.active),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",m.active)}}let f=(()=>{class i{constructor(){this.breadcrumbItems=[],this.title=""}ngOnInit(){}}return i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=n.\u0275\u0275defineComponent({type:i,selectors:[["app-page-title"]],inputs:{breadcrumbItems:"breadcrumbItems",title:"title"},decls:11,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["href","javascript: void(0);"],[4,"ngFor","ngForOf"],[1,"page-title"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],["href","javascript: void(0);","routerLink","[item.path]"],[1,"breadcrumb-item","active"],["routerLink","[item.path]"]],template:function(m,C){1&m&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ol",4)(5,"li",5)(6,"a",6),n.\u0275\u0275text(7,"UBold"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(8,b,3,2,"ng-container",7),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(9,"h4",8),n.\u0275\u0275text(10),n.\u0275\u0275elementEnd()()()()),2&m&&(n.\u0275\u0275advance(8),n.\u0275\u0275property("ngForOf",C.breadcrumbItems),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(C.title))},directives:[r.NgForOf,r.NgIf],styles:[""]}),i})()},9095:(_,p,l)=>{l.d(p,{p:()=>v});var n=l(9808),r=l(5e3);let v=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=r.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=r.\u0275\u0275defineInjector({imports:[[n.CommonModule]]}),c})()}}]);